## 便利なクラス
### 日付編

### ■Timeクラス

Rubyでは何時何分何秒といった要素を取得し、現在時刻や～時間後の時刻を取得するといった処理を行えるTimeクラスを利用することができます。

``` Ruby
Timeオブジェクトの作成:
  変数名 = Time.new
```

Timeオブジェクトでは**初期処理として現在時刻の取得**をするので、インスタンスしただけで現在時を属性として持ったTimeオブジェクトを取得できます。

同じ処理として以下のような記述もできます

``` Ruby
Timeオブジェクトの作成:
  変数名 = Time.now
```

``` Ruby
#現在時刻を取得し、表示する
time = Time.new
print(time)

#改行、処理を3秒停止
print("\n")
sleep(3)

#現在時刻を取得し、表示する
print(Time.now)
```

``` Ruby
実行結果:
2017-06-15 19:47:05 +0900
2017-06-15 19:47:08 +0900
```
---

年、月、日、時、分、秒を数値オブジェクトとして個別に取得するためのメソッドがあります。


``` Text
年、月、日、時、分、秒を取得するメソッド群：

値　メソッド名
---------------
年　year
月　month
日　day
時　hour
分　min
秒　sec
```

``` Ruby
#現在時刻を取得
time = Time.new

#年を表示
print(time.year)

#月を表示
print(time.month)

#日を表示
print(time.day)

#時を表示
print(time.hour)
```

---

過去や未来の時刻を表すTimeオブジェクトを取得することもできます

``` Ruby
任意のTimeオブジェクトの取得:
  Time.mktime(年,月,日,時,分,・・・)
```

秒などを省略し、年月だけ入力して生成、などもできます。
その場合、秒などの要素は0が指定されます

``` Ruby
#日時を指定してTimeオブジェクトの生成
time = Time.mktime(1993,3,1,20,59,4)
print(time)
print("\n")

#未来や値を省略した表現ができる
time = Time.mktime(2033)
print(time)
```

``` Ruby
実行結果:
1993-03-01 20:59:04 +0900
2033-01-01 00:00:00 +0900
```

---

Timeオブジェクトは、文字列オブジェクトに任意の形で変換することができます。


``` Ruby
Timeオブジェクトの変換:
  Timeオブジェクト.strftime(フォーマット文字列)
```

年や時に対応するフォーマット文字列というものがあり、それを文字列中に含めることで任意の時刻表現にできます

文字列オブジェクトにそのまま変換するということもできます。

``` Ruby
Timeオブジェクトの変換:
  Timeオブジェクト.to_s
```

``` Ruby
time = Time.new

#Timeオブジェクトを「何年何月何日何時何分何秒」の形に変換
time_moji = time.strftime("%Y年%m月%d日%H時%M分%S秒")

print("現在時刻は#{time_moji}です")
```

``` Ruby
実行結果:
現在時刻は2017年06月15日20時21分07秒です
```
---

strftimeで使用できるフォーマットをご紹介します。

``` Text
パターン　意味
---------------
%Y　西暦
%m　月
%d　月における日
%H　日の時間。24時間表記。
%M　分
%S　秒
%A　曜日の名称(Sunday,Monday...)
```

そのほかにも多数のフォーマットがあります

---
文字列オブジェクトを解析してTimeオブジェクトに変換し、取得することもできます

``` Ruby
文字列オブジェクトからTimeオブジェクトの変換:
require "time"
Time.parse(文字列オブジェクト)
```

自動解析のため、文字列オブジェクトは特定のフォーマットにしたがって記述されている必要があります

``` Ruby
#parseメソッドを利用するときにはこのrequireが必要
require "time"

#文字列オブジェクトからTimeオブジェクトを取得
time = Time.parse("2015/03/01 04:51:11")
print(time.to_s + "\n")

time = Time.parse("H27.03.01")
print(time.to_s + "\n")

time = Time.parse("2015/03/01")
print(time)
```

``` Ruby
実行結果:
2015-03-01 04:51:11 +0900
2015-03-01 00:00:00 +0900
2015-03-01 00:00:00 +0900
```

&nbsp;

### ■Dateクラス

Timeクラスの省略形として、年月日のみを属性として持つDateクラスもあります。

``` Ruby
Dateクラスのインスタンス:
  require "date"
  変数 = Date.today
```

文字列へのフォーマットなどTimeクラスで利用されるメソッドの多くを利用できます

``` Ruby
require "date"
#Dateオブジェクトの作成(現在の日付が取得されます)
date = Date.today

print("#{date}\n")

#年を表示
print("#{date.year}\n")

#フォーマット（時分秒などは0になる）
print(date.strftime("%Y年%m月%d日%H時%M分%S秒"))
```

``` Ruby
実行結果:
2017-06-15
2017
2017年06月15日00時00分00秒
```
