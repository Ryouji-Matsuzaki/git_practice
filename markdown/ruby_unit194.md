## 文字列
### 文字列オブジェクト

### ■文字列を扱いたい＝文字列オブジェクト

画面に文字を表示したい時などのために、Rubyのソースコード上で、

``` Text
Hellow World

こんにちわ
```

とだけ記述しても実行時にエラーになってしまいます。必ず

``` Text
"Hellow World"

"こんにちは"
```

といった「""(ダブルクォーテーション二つ)で囲む」必要があります。
この記述が用いられている文字全体のことを**文字列オブジェクト**と呼びます。
主に文字表示などに用いられ、頻出なオブジェクトです。

&nbsp;

### ■文字列オブジェクトの宣言
Rubyで文字列オブジェクトは主に次のように宣言されます。

``` Text
文字列オブジェクトの宣言:
  "値となる文字列" もしくは '値となる文字列'
```


他にも文字列の種類によって宣言の方法が何通りもありますが、この講座では、「""（ダブルクォーテーション二つ）」を用いた方法に統一します。

``` Ruby
#値が「こんにちは」の文字列オブジェクトを宣言するだけ
"こんにちは"

#値が「こんにちは」の文字列オブジェクトを宣言し、直後にその値を表示
print("こんにちは")

#値が「Hello World」の文字列オブジェクトを宣言＆変数に代入
moji = "Hello World"

#宣言済みの文字列オブジェクトを持つ変数から、値を呼び出して表示
print(moji)

```

&nbsp;

### ■文字列オブジェクトの特徴

**特性1**

- 「文字列オブジェクト + 文字列オブジェクト」で一つのつながった文字列として扱うことができる。

**特性2**

- 文字列中でRubyの式を実行したり、変数を参照することができる

**特性3**

- 多くのほかの種類のオブジェクトに相互変換できる

例)
文字列オブジェクト "100" ⇔ 数値オブジェクト 100
文字列オブジェクト "2017年5月1日" ⇔ 日付オブジェクト 2017年5月1日

&nbsp;

### ■文字列オブジェクト -「+」による文字列連結について-
「+」を文字列オブジェクトに使うことで、複数の文字列オブジェクトを連結することができます。

``` Text
文字列オブジェクトの連結:
  文字列オブジェクト + 文字列オブジェクト
  # 数値オブジェクトにおける「+」と近いイメージで使用できます。
```

``` Text
省略した記述:
  文字列オブジェクト += 別の文字列オブジェクト
```

``` Ruby
a_kana = "アイウエオ"
k_kana = "カキクケコ"

#3つの文字列が合わさり「文字列はアイウエオカキクケコ」が表示される
print("文字列は" + a_kana + k_kana)

#a_kanaにk_kanaの文字列を連結して表示する。
a_kana += k_kana
print(a_kana)

```

&nbsp;

### ■文字列オブジェクト -文字列中でRubyの式を展開

文字列オブジェクト内でRubyの計算や変数の参照などを行うことができます

``` Text
文字列オブジェクト内でのRuby文実行:
  文字列中で#{Rubyの式}
```

前述の「+」を使った文字列連結よりも**少ない記述**で表現できていることがわかります。

``` Ruby
a_kana = "アイウエオ"
k_kana = "カキクケコ"

#変数の参照と連結をしてから表示
print("文字列は#{a_kana + k_kana}です")

#数値計算なども可能
print("1+3の答えは#{1 + 3}です")

#「+」を使った文字列連結と数値計算は同時利用できないので、上記のような表現方法が一番良い
print("1+3の答えは" + 1 + 3 +  "です") #エラーになる
```

&nbsp;

### ■文字列オブジェクト -「"」などを含めた文字列の宣言-

「"」や「'」自体を含めた文字列を直接文字列オブジェクトにしたい場合、次のような表現でも可能です。


``` Text
「"」などを含めた文字列を宣言:
  変数 = %Q{文字列}
```

``` Ruby
#「""」などを含んだ文字列が表示される
text = %Q{Rubyの文字列には""や''が利用されます}
print(text)
```

&nbsp;

### ■文字列オブジェクトのメソッド
文字列オブジェクトには、「文字列」にかかわる多様なメソッドが用意されています。

**文字数を得るlengthメソッド:**

- 文字列オブジェクト.length
- 文字数を値に持つ数値オブジェクトを返却

**特定の文字で分割するsplitメソッド:**

- 文字列オブジェクト.split(/区切りの文字/)
- 区切り文字で分かれた配列オブジェクトを返却

**文字列が出現する位置を検索するindexメソッド:**

- 文字列オブジェクト.index(検索文字列)
- 1文字目を0番目として数えて、検索文字列と該当する文字が出現する位置番号を返却

``` Ruby
#「あいうえお」の文字数5を表示
print("あいうえお".length)

#「田中太郎:080-1234-5678:20歳」を「:」で区切って、["田中太郎","080-1234-5678","20歳"]の配列に
profile = "田中太郎:080-1234-5678:20歳"
profile_list = profile.split(/:/)

#「こんにちは」から「ちは」の出現する位置3を出力
print("こんにちは".index("ちは"))

#indexメソッドは該当文字が初出する位置のみを取得するので、同じ文字列が繰り返し出現していても最初の位置しかわからない
text = "こんにちはこんにちはこんにちはこんにちは"
first_point = text.index("んにちは")
print(first_point)  #「1」と出力される
```