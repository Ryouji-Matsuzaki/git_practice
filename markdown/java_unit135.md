# サーブレットとJSP
## サーブレットとJSPの連携

## ■サーブレットとJSP

以前のスライドで説明していますが、サーブレットとJSPを連携させて利用するのが一般的です。

ここでは、サーブレットとJSPを連携させるために必要な技術を解説してきます。

## ■JSPを隠す

サーブレットとJSPを連携させる場合、ブラウザで直接JSPを呼び出せるようにしたくありません。

そのために、**WEB-INF** フォルダを利用しましょう。  
**WEB-INF** フォルダは、外部から利用できない様になっています。

**WEB-INF** フォルダの中にjspフォルダを作成し、その下にjspファイルを置くことで、サーブレットクラスからしか利用できないjspファイルにできます。

## ■サーブレットからJSPを呼び出す

サーブレットとJSPの連携は、基本的にサーブレットからJSPを呼び出す形になります。サーブレットでシステム的な処理を行い、JSPではその結果をHTMLとして出力します。

そのため、サーブレットからJSPを呼び出す方法が用意されています。

**JSPを呼び出す：**

1. リクエストディスパッチャーを取得  
RequestDispatcher 変数名 = request.getDispatcher(JSPファイル);

2. JSPを呼び出す  
変数名.forward(request, response);

## ■サーブレットからJSPへデータを共有する

JSPに情報を渡すために、**リクエストスコープ** を利用します。

**リクエストスコープ** は、利用者からのアクセスへ結果を返却する間のみ有効な、共有のデータ置き場と捉えてください。

**リクエストスコープ** に配置できるデータは、<font color="green">JavaBeans</font>と呼ばれる特定の機能を持ったクラスのインスタンスのみとなります。そのため、intやdoubleといった型は **リクエストスコープ** で共有する事ができません。


## ■リクエストスコープの使い方

リクエストスコープに情報を入れる機能はrequestに用意されています。

**リクエストスコープに情報を入れる：**

* request.setAttribute(名前, 情報);


名前は、リクエストスコープから取り出す際に利用します。

**リクエストスコープから情報を取り出す：**

* 変数名 = request.getAttribute(名前);
